<div class="container">

  <div *ngIf="!matchPW; else forminfo">
    <div class="col-lg-12 well">
      <div class="row">

        <form [formGroup]="rForm" (ngSubmit)="onSubmit(rForm.value)">

          <div class="col-sm-12">
            <div class="row">
              <div class="col-sm-4 form-group">
                <label>Email</label>
                <input class="form-control" placeholder="Insert Email..." formControlName="email" (focus)="emailFocus = true" (blur)="emailFocus = false" name="email">
              </div>

              <div class="col-sm-4 form-group">
                <label>password</label>
                <input class="form-control" type="password" (focus)="pwFocus = true" (blur)="pwFocus = false" formControlName="password" name="password">
              </div>

              <div class="col-sm-4 form-group">
                <label>confirm password</label>
                <input type="password" (focus)="pwFocus = true" (blur)="pwFocus = false" formControlName="confirmPassword" name="confirmPassword">

                <div class="alert alert-danger" *ngIf="!rForm.get('email').valid && rForm.get('email').dirty && emailFocus == false">{{ emailError }}</div>
                <div class="alert alert-danger" *ngIf="!rForm.get('password').valid && rForm.get('password').dirty">{{passwordError}}</div>
                <div class="alert alert-danger" *ngIf="!rForm.controls.confirmPassword.errors?.MatchPassword && rForm.controls['confirmPassword'].dirty">Passwords not match</div>
              </div>
            </div>

            <button type="submit" class="btn btn-primary" value="Submit Form" [disabled]="!rForm.valid">Create Account!</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<ng-template #forminfo>
  <div class="form-container">
    <div class="row columns">
      <h1>{{ email }}</h1>

      <p>{{ password }}</p>
      <p>{{ confirmPassword }} </p>
      <p> {{ password == confirmPassword }}</p>
    </div>
  </div>
</ng-template>
