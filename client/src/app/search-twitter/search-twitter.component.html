<div class="container">
  <br />
  <logout></logout>
  <br />
  <br />
  <div class="jumbotron">
    <div class="page-header">
      <h1 class="display-3">Hello!</h1>
    </div>
    <p class="lead">Get started by searching for a twitter user below!</p>
  </div>
</div>

<div class="container text-center">
  <form #twitterForm="ngForm" (ngSubmit)="onSubmit(twitterForm)" class="form-inline">
    <div class="row">
      <label for="searchBar"> Search for a twitter user </label>
    </div>
    <div class="form-group">
      <input ngModel type="text" class="form-control" id="searchBar" name="searchBar" placeholder="Insert Twitter User" #twitterUser="ngModel">
    </div>

    <button type="submit" value="Submit" class="btn btn-primary">Submit</button>
  </form>
</div>
<br>
<!-- Write a Service to transfer this usersList -->
<!-- <div *ngIf="twitterHandle != null">
    <button (click)='open($event, twitterHandle.screen_name)'>{{twitterHandle.screen_name}}</button>
</div> -->

<!-- <div *ngIf="tweetsList != null">
 -->
<div *ngIf="twitterHandle != null">

  <!-- <a data-toggle="collapse" href="#{{twitterHandle.screen_name}}"><button (click)='open(twitterHandle.screen_name)' class="btn btn-info btn-lg">{{twitterHandle.screen_name}}</button></a> -->
  <div class="row" id="{{twitterHandle.screen_name}}">
    <div class="col-sm-6">
      <div class="jumbotron">
        <div class="text-center">
          <img class="img-thumbnail" src="{{twitterHandle.profile_image_url_https}}" height="15%" width="15%" />
          <div clas="row">
            <label>{{twitterHandle.screen_name}}</label>
          </div>
        </div>
        <br>

        <div class="alert alert-danger" *ngIf="twitterHandle.protected"> Twitter User's Tweets are Protected.</div>
        <div *ngIf="tweetsList != null">
          <div *ngFor="let i of [0,1,2,3,4]">
            <ul class="list-group">
              <a data-toggle="collapse" href="#{{tweetsList[i].id}}">
                <li class="list-group-item">
                  <div *ngIf="tweetsList[i].hasOwnProperty('retweeted_status');else own_tweet">
                    RT &nbsp;@{{tweetsList[i].retweeted_status.user.screen_name}}: &nbsp; {{tweetsList[i].retweeted_status.full_text}}
                  </div>
                  <ng-template #own_tweet> {{tweetsList[i].full_text}}</ng-template>
                </li>
              </a>
              <div id="{{tweetsList[i].id}}" class="collapse">
                <div *ngIf="sentimentsList[i] == 'anger'">
                  <div class="jumbotron text-center" style="background-color: #470215;color: white;"><h3 class="display-3">This tweet was most likely written in {{sentimentsList[i]}}.</h3></div>
                </div>
                <div *ngIf="sentimentsList[i] == 'joy'">
                  <div class="jumbotron text-center" style="background-color: #FFD032;color: white;"><h3 class="display-3">This tweet was most likely written in {{sentimentsList[i]}}.</h3></div>
                </div>
                <div *ngIf="sentimentsList[i] == 'fear'">
                  <div class="jumbotron text-center" style="background-color: #C96A19;color: white;"><h3 class="display-3">This tweet was most likely written in {{sentimentsList[i]}}.</h3></div>
                </div>
                <div *ngIf="sentimentsList[i] == 'sadness'">
                  <div class="jumbotron text-center" style="background-color: #250396; color:white;"><h3 class="display-3">This tweet was most likely written in {{sentimentsList[i]}}.</h3></div>
                </div>
                <div *ngIf="sentimentsList[i] == 'surprise'">
                  <div class="jumbotron text-center" style="background-color: #035C07; color: white;"><h3 class="display-3">This tweet was most likely written in {{sentimentsList[i]}}.</h3></div>
                </div>
              </div>
            </ul>
          </div>
        </div>

      </div>

    </div>
    <div class="col-sm-6">
      <div class="row">
        <div *ngIf="data">
          <p-chart type="pie" [data]="data"></p-chart>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf = "emotion">
  <h2 class="text-center">{{emotion}}</h2>
</div>
<br />

<!-- <div *ngIf="tweetsList != null">
  <div *ngFor="let tweet of tweetsList">
    <ul>
      <li>
        <div *ngIf = "tweet.hasOwnProperty('retweeted_status');else own_tweet">
          RT &nbsp;@{{tweet.retweeted_status.user.screen_name}}: &nbsp; {{tweet.retweeted_status.full_text}}
        </div>
        <ng-template #own_tweet> {{tweet.full_text}}</ng-template>
      </li>

    </ul>
  </div>
</div> -->

<!--<div *ngIf="sentimentsList != null">
  <div *ngFor="let sentiment of sentimentsList">
    <ul>
      <li> {{sentiment}}</li>
    </ul>
  </div>
</div>-->
